<template>
  <div>
    <h1>SignUp</h1>
    <v-text-field label="ì•„ì´ë””" v-model="userId"></v-text-field>
    <v-text-field
      label="ë¹„ë°€ë²ˆí˜¸"
      type="password"
      v-model="password"
    ></v-text-field>
    <v-text-field label="ì´ë¦„" v-model="name"></v-text-field>
    <v-text-field label="ì£¼ì†Œ" v-model="address"></v-text-field>
    <v-text-field label="ì´ë¯¸ì§€" v-model="src"></v-text-field>
    <v-btn @click="signUp">íšŒì›ê°€ì…</v-btn>
  </div>
</template>

<script>
//import { mapMutations } from "vuex";
import { mapActions } from "vuex";

export default {
  data() {
    return {
      userId: null,
      password: null,
      name: null,
      address: null,
      src: null,
    };
  },
  methods: {
    //mapMutationsëŠ” "ì‹¤í–‰"í•˜ëŠ”ê±°ë‹ˆê¹Œ methodsì— ë„£ì–´ì¤˜ì•¼í•¨.
    //...mapMutations(["addUsers"]), //1ï¸âƒ£

    //mapActionsë¡œ ì‚¬ìš©í•˜ê¸° ì•„ë˜ ğŸ…±ï¸
    ...mapActions(["addUsers"]),
    signUp() {
      let userObj = {
        userId: this.userId,
        password: this.password,
        name: this.name,
        address: this.address,
        src: this.src,
      };
      //  this.addUsers(userObj); //ì´ userObjê°€ payloadë¡œ ë“¤ì–´ê°.1ï¸âƒ£
      // 1ï¸âƒ£ìƒìœ„ ë‚´ìš©ì€ mapMutationsë¡œ í•˜ëŠ” ë°©ë²•..

      //2ï¸âƒ£ mutation ì§ì ‘ ë¶€ë¥´ëŠ” ë°©ë²•2. ì´ ì•„ë˜êº¼..
      //this.$store.commit("addUsers", userObj); //2ï¸âƒ£

      // ğŸ…°ï¸ storeì— ìˆëŠ” dispatch(ì•¡ì…˜ ë¶€ë¥´ê¸°)-addusersë¥¼ ë¶€ë¥´ê² ë‹¤. ê·¸ë¦¬ê³  payloadê°€ userOjb
      // this.$store.dispatch("addUsers", userObj);

      //ğŸ…±ï¸mapActionsë¡œ ì‚¬ìš©í•˜ê¸° ì•„ë˜
      this.addUsers(userObj);
      this.clearForm();
    },
    clearForm() {
      (this.userId = null),
        (this.password = null),
        (this.name = null),
        (this.address = null),
        (this.src = null);
    },
  },
};
</script>
